"use strict";(self.webpackChunkem_test_task=self.webpackChunkem_test_task||[]).push([[970],{970:(S,p,n)=>{n.r(p),n.d(p,{AuthModule:()=>Y});var u=n(6814),f=n(6208),d=n(4828),a=n(6223);const m="Your password isn't strong enough: ",h=[/[a-z]/,/[A-Z]/],v=[/[a-zA-Z]/,/[0-9]/],C=[/[^\w\s']/];var o=n(5879),w=n(304),A=n(2296),g=n(9157),L=n(2032),l=n(5195);function T(r,t){1&r&&(o.TgZ(0,"div",10),o._uU(1," You are not logged in yet\n"),o.qZA())}function I(r,t){1&r&&(o.TgZ(0,"mat-error"),o._uU(1," Please enter a valid login "),o.qZA())}function F(r,t){1&r&&(o.TgZ(0,"mat-error"),o._uU(1," The login email is invalid "),o.qZA())}function y(r,t){1&r&&(o.TgZ(0,"mat-error"),o._uU(1," Please enter a valid email password "),o.qZA())}function J(r,t){1&r&&(o.TgZ(0,"mat-error"),o._uU(1," Please enter a password "),o.qZA())}function U(r,t){if(1&r&&(o.TgZ(0,"mat-error"),o._uU(1),o.qZA()),2&r){const i=o.oxw();o.xp6(1),o.hij(" ",null==i.passwordFormControl.errors?null:i.passwordFormControl.errors.passwordStrong," ")}}const x=[{path:"",component:(()=>{var r;class t{constructor(s,e,c){this.auth=s,this.fb=e,this.router=c,this.isLoggedIn$=this.auth.isLoggedIn$,this.user=e.group({login:e.control("",[a.kI.required,a.kI.email]),password:e.control("",[a.kI.required,r=>r.value&&r.value.length<8?{passwordStrong:`${m}at least 8 characters`}:r.value&&!h.every(t=>t.test(r.value))?{passwordStrong:`${m}a mixture of both uppercase and lowercase letters`}:r.value&&!v.every(t=>t.test(r.value))?{passwordStrong:`${m}a mixture of letters and numbers`}:r.value&&!C.every(t=>t.test(r.value))?{passwordStrong:`${m}inclusion of at least one special character, e.g., ! @ # ? ]`}:null])})}ngOnInit(){this.loginFormControl=this.user.get("login"),this.passwordFormControl=this.user.get("password")}onSubmit(){this.auth.logIn(this.loginFormControl.value),this.router.navigate([""])}}return(r=t).\u0275fac=function(s){return new(s||r)(o.Y36(w.e),o.Y36(a.qu),o.Y36(d.F0))},r.\u0275cmp=o.Xpm({type:r,selectors:[["app-login"]],decls:27,vars:10,consts:[["class","login-message",4,"ngIf"],[1,"login-card"],[3,"formGroup","submit"],[1,""],["type","email","matInput","","formControlName","login","placeholder","ex. user@mail.com"],[4,"ngIf"],[1,"example-full-width"],["type","password","matInput","","formControlName","password"],[1,"login-btn-container"],["mat-raised-button","","type","submit","color","accent",3,"disabled"],[1,"login-message"]],template:function(s,e){1&s&&(o.YNc(0,T,2,0,"div",0),o.ALo(1,"async"),o.TgZ(2,"mat-card",1)(3,"mat-card-header")(4,"mat-card-title"),o._uU(5,"LogIn"),o.qZA()(),o.TgZ(6,"mat-card-content")(7,"form",2),o.NdJ("submit",function(){return e.onSubmit()}),o.TgZ(8,"p")(9,"mat-form-field",3)(10,"mat-label"),o._uU(11,"Login"),o.qZA(),o._UZ(12,"input",4),o.YNc(13,I,2,0,"mat-error",5),o.YNc(14,F,2,0,"mat-error",5),o.qZA()(),o.TgZ(15,"p")(16,"mat-form-field",6)(17,"mat-label"),o._uU(18,"Password"),o.qZA(),o._UZ(19,"input",7),o.YNc(20,y,2,0,"mat-error",5),o.YNc(21,J,2,0,"mat-error",5),o.YNc(22,U,2,1,"mat-error",5),o._UZ(23,"mat-error"),o.qZA()(),o.TgZ(24,"mat-card-actions",8)(25,"button",9),o._uU(26," LOGIN "),o.qZA()()()()()),2&s&&(o.Q6J("ngIf",!0!==o.lcZ(1,8,e.isLoggedIn$)),o.xp6(7),o.Q6J("formGroup",e.user),o.xp6(6),o.Q6J("ngIf",e.loginFormControl.hasError("required")),o.xp6(1),o.Q6J("ngIf",e.loginFormControl.hasError("email")),o.xp6(6),o.Q6J("ngIf",e.loginFormControl.hasError("password")&&!e.passwordFormControl.hasError("required")),o.xp6(1),o.Q6J("ngIf",e.passwordFormControl.hasError("required")),o.xp6(1),o.Q6J("ngIf",e.passwordFormControl.hasError("passwordStrong")),o.xp6(3),o.Q6J("disabled",e.loginFormControl.invalid||e.passwordFormControl.invalid))},dependencies:[u.O5,A.lW,g.KE,g.hX,g.TO,L.Nt,l.a8,l.hq,l.dn,l.dk,l.n5,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u,u.Ov],styles:["[_nghost-%COMP%]{width:85%;max-width:1200px;margin:0 auto;display:flex;justify-content:center;align-items:center;flex-direction:column;gap:2rem;margin-top:2rem}"]}),t})()}];let N=(()=>{var r;class t{}return(r=t).\u0275fac=function(s){return new(s||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[d.Bz.forChild(x),d.Bz]}),t})(),Y=(()=>{var r;class t{}return(r=t).\u0275fac=function(s){return new(s||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[u.ez,f.m,a.UX,N]}),t})()}}]);